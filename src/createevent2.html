<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>MOVES - Create Event</title>
  <link rel="stylesheet" href="styles.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@100..900&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
    rel="stylesheet"
  />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"
  ></script>
</head>

<body class="create-event-page">
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar__container">
      <a href="./dashboard.html" class="navbar__logo"><h1>MOVES</h1></a>
      <div class="navbar__toggle" id="mobile-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <ul class="navbar__menu">
        <li class="navbar__btn">
          <a href="./dashboard.html" class="button">Home</a>
        </li>
        <li class="navbar__btn">
          <a href="./about-logged-in.html" class="button">About Us</a>
        </li>
        <li class="navbar__btn">
          <a href="./myevents.html" class="button">My Events</a>
        </li>
        <li class="navbar__btn">
          <a href="./" class="button">Contact Us</a>
        </li>
        <li class="navbar__user">
          <div class="user-dropdown">
            <span class="username">
              myusername
              <i class="bx bxs-user-circle"></i>
            </span>
            <div class="dropdown-content">
              <a href="./account-settings.html">Account Settings</a>
              <a href="./">Log Out</a>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Create Event Hero -->
  <section class="create-event-hero">
    <div class="hero-text">
      <h2>Host an Event</h2>
      <p>
        Share your next gathering with the <strong>MOVES</strong> community. Fill
        out the details below to get started!
      </p>
    </div>
  </section>

  <!-- Main Container (Card Layout) -->
  <div class="create-event-card">
    <form id="event-form" class="form-content">
      <h3>Create Your Event</h3>
      <p class="form-intro">
        Fields marked with <span class="required-asterisk">*</span> are required.
      </p>

      <!-- Event Name -->
      <label for="event-name">Event Name <span class="required-asterisk">*</span></label>
      <input
        type="text"
        id="event-name"
        name="event-name"
        placeholder="Enter event name..."
        required
      />

      <!-- Start/End Times -->
      <div class="time-row">
        <div>
          <label for="start-time">Start Time <span class="required-asterisk">*</span></label>
          <input
            type="datetime-local"
            id="start-time"
            name="start-time"
            required
          />
        </div>
        <div>
          <label for="end-time">End Time <span class="required-asterisk">*</span></label>
          <input
            type="datetime-local"
            id="end-time"
            name="end-time"
            required
          />
        </div>
      </div>

      <!-- Venue Name -->
      <label for="venue-name">Venue Name (optional)</label>
      <input
        type="text"
        id="venue-name"
        name="venue-name"
        placeholder="Enter venue name..."
      />

      <!-- Address -->
      <label for="address">Location <span class="required-asterisk">*</span></label>
      <input
        type="text"
        id="search-input"
        name="search-input"
        placeholder="Enter address..."
        required
      />

      <!-- Event Type -->
      <label for="event-type">Event Type <span class="required-asterisk">*</span></label>
      <select class="dropdown" id="event-type" name="event-type" required>
        <option value="">Choose an option</option>
        <option value="Festival">Festival</option>
        <option value="Party">Party</option>
        <option value="Birthday">Birthday</option>
        <option value="College Greek Life Party">Frat/Sorority Party</option>
        <option value="Concert">Concert</option>
        <option value="Cruise">Cruise</option>
        <option value="Comedy">Comedy Show</option>
        <option value="Art">Art</option>
        <option value="Gala">Gala</option>
        <option value="Music Festival">Music Festival</option>
        <option value="Other">Other (please specify)</option>
      </select>
      <div id="other-event-type-container" style="display: none; margin-top: 10px;">
        <label for="other-event-type">Specify event type</label>
        <input
          type="text"
          id="other-event-type"
          name="other-event-type"
          placeholder="Enter your event type..."
        />
      </div>

      <!-- Visibility -->
      <label for="invite-type">Who can see the event? <span class="required-asterisk">*</span></label>
      <select class="dropdown" id="invite-type" name="invite-type" required>
        <option value="">Choose an option</option>
        <option value="public">Everyone on the Moves App!</option>
        <option value="followers">Followers only</option>
        <option value="invites">Invite Only</option>
      </select>

      <div id="invitees-container" style="display: none; margin-top: 10px;">
        <label for="invitees-select">Invite Users</label>
        <select
          id="invitees-select"
          name="invitees[]"
          multiple="multiple"
          style="width: 100%;"
        >
          <option value="user1">Jad Alami</option>
          <option value="user2">Emile Al-Billeh</option>
          <option value="user3">Balint Kidd</option>
          <option value="user4">Adam Sherif</option>
          <option value="user5">Lionel Messi</option>
          <option value="user6">Cristiano Ronaldo</option>
          <option value="user7">John Cena</option>
          <option value="user8">Randy Orton</option>
          <option value="user9">Tyson Fury</option>
        </select>
      </div>

      <!-- Ticketing -->
      <label for="ticketing">Do you want to sell tickets? <span class="required-asterisk">*</span></label>
      <select class="dropdown" id="ticketing" name="ticketing" required>
        <option value="">Choose an option</option>
        <option value="No">No</option>
        <option value="Yes">Yes</option>
      </select>
      <div id="ticket-price-container" style="display: none; margin-top: 10px;">
        <label for="ticket-price">Ticket Price (USD) <span class="required-asterisk">*</span></label>
        <input
          type="number"
          id="ticket-price"
          name="ticket-price"
          placeholder="Enter ticket price..."
        />
        <label for="capacity">Ticket Capacity (optional)</label>
        <input
          type="number"
          id="capacity"
          name="capacity"
          placeholder="Enter max tickets..."
        />
      </div>

      <!-- Description -->
      <label for="event-description">Event Description (optional)</label>
      <textarea
        id="event-description"
        placeholder="Tell people about your event..."
      ></textarea>

      <!-- Create Event Button -->
      <button type="submit" class="create-event-btn btn">
        Create Event
      </button>
    </form>
  </div>

  <!-- Custom Confirmation Modal -->
  <div class="confirm-overlay" id="confirm-overlay">
    <div class="confirm-modal">
      <h2>Confirm Event</h2>
      <p>Are you sure you want to create this event?</p>
      <div class="modal-buttons">
        <button class="btn modal-confirm-btn" id="confirm-yes">Yes</button>
        <button class="btn modal-cancel-btn" id="confirm-no">No</button>
      </div>
    </div>
  </div>

  <!-- Footer Section -->
  <div class="footer__container">
    <p>
      We are constantly working to improve our product.
      For feedback/questions, reach us at moves@email.com
    </p>
  </div>

  <!-- Scripts -->
  <script>
    // Show/hide "Other event type"
    document.addEventListener("DOMContentLoaded", () => {
      const eventTypeSelect = document.getElementById("event-type");
      const otherContainer = document.getElementById("other-event-type-container");
      const otherInput = document.getElementById("other-event-type");

      eventTypeSelect.addEventListener("change", function () {
        if (this.value === "Other") {
          otherContainer.style.display = "block";
          otherInput.required = true;
        } else {
          otherContainer.style.display = "none";
          otherInput.required = false;
          otherInput.value = "";
        }
      });
    });

    // If invites only
    document.addEventListener("DOMContentLoaded", () => {
      const inviteTypeSelect = document.getElementById("invite-type");
      const inviteesContainer = document.getElementById("invitees-container");
      const inviteesSelect = document.getElementById("invitees-select");

      inviteTypeSelect.addEventListener("change", function () {
        if (this.value === "invites") {
          inviteesContainer.style.display = "block";
        } else {
          inviteesContainer.style.display = "none";
          inviteesSelect.selectedIndex = -1;
        }
      });
    });

    // Initialize Select2
    $(document).ready(function () {
      $("#invitees-select").select2({
        placeholder: "Search and invite users",
        allowClear: true,
      });
    });

    // Ticketing logic
    document.addEventListener("DOMContentLoaded", () => {
      const ticketingSelect = document.getElementById("ticketing");
      const ticketPriceContainer = document.getElementById("ticket-price-container");
      const ticketPriceInput = document.getElementById("ticket-price");

      ticketingSelect.addEventListener("change", function () {
        if (this.value === "Yes") {
          ticketPriceContainer.style.display = "block";
          ticketPriceInput.required = true;
        } else {
          ticketPriceContainer.style.display = "none";
          ticketPriceInput.required = false;
          ticketPriceInput.value = "";
        }
      });
    });

    // datetime-local color logic
    const datetimeInputs = document.querySelectorAll('input[type="datetime-local"]');
    datetimeInputs.forEach((input) => {
      input.addEventListener("input", function () {
        this.style.color = this.value ? "black" : "#908d8d";
      });
      if (input.value) input.style.color = "black";
      else input.style.color = "#908d8d";
    });

    // dropdown color logic
    const selectElements = document.getElementsByClassName("dropdown");
    for (const selectEl of selectElements) {
      selectEl.addEventListener("change", function () {
        this.style.color = this.value === "" ? "#908d8d" : "black";
      });
      selectEl.style.color = selectEl.value === "" ? "#908d8d" : "black";
    }

    // Confirmation modal logic
    const eventForm = document.getElementById("event-form");
    const confirmOverlay = document.getElementById("confirm-overlay");
    const confirmYes = document.getElementById("confirm-yes");
    const confirmNo = document.getElementById("confirm-no");

    eventForm.addEventListener("submit", function (e) {
      e.preventDefault();
      confirmOverlay.style.display = "flex";
    });

    confirmYes.addEventListener("click", function () {
      confirmOverlay.style.display = "none";
      eventForm.submit();
    });

    confirmNo.addEventListener("click", function () {
      confirmOverlay.style.display = "none";
    });
  </script>

  <script src="bundle.js"></script>
</body>
</html>
