<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>MOVES - Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@100..900&display=swap" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel="stylesheet">
</head>
<body>

  <!-- Navbar Section -->
  <nav class="navbar">
    <div class="navbar__container">
      <a href="./dashboard.html" class="navbar__logo"><h1>MOVES</h1></a>
      <div class="navbar__toggle" id="mobile-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <ul class="navbar__menu">
        <li class="navbar__btn"><a href="./about-logged-in.html" class="button">About Us</a></li>
        <li class="navbar__btn"><a href="createevent.html" class="button">Create Event</a></li>
        <li class="navbar__btn"><a href="myevents.html" class="button">My Events</a></li>
        <li class="navbar__btn"><a href="./contact.html" class="button">Contact Us</a></li>
        <li class="navbar__user">
          <div class="user-dropdown">
            <span class="username">
              myusername
              <i class='bx bxs-user-circle'></i>
            </span>
            <div class="dropdown-content">
              <a href="./account-settings.html">Account Settings</a>
              <a href="./">Log Out</a>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Main Dashboard Section -->
  <div class="main dashboard-section">
    <h1 class="dashboard-heading">Welcome, myusername!</h1>

    <!-- High-Level Statistics Row -->
    <div class="stats-container">
      <div class="stat-card">
        <h2>Total Revenue</h2>
        <p class="stat-value">$<span id="total-revenue">0</span></p>
      </div>
      <div class="stat-card">
        <h2>Total Events</h2>
        <p class="stat-value"><span id="total-events">0</span></p>
      </div>
      <div class="stat-card">
        <h2>Total RSVPs</h2>
        <p class="stat-value"><span id="total-rsvps">0</span></p>
      </div>
      <div class="stat-card">
        <h2>Followers</h2>
        <p class="stat-value"><span id="followers-count">0</span></p>
      </div>
    </div>

    <!-- Ongoing & Upcoming Events Overview -->
    <div class="events-overview-container">
      <h2>Ongoing Events</h2>
      <div class="event-preview" id="ongoing-events-list">
        <!-- JS will dynamically insert ongoing event cards here -->
      </div>

      <h2>Upcoming Events</h2>
      <div class="event-preview" id="upcoming-events-list">
        <!-- JS will dynamically insert upcoming event cards here -->
      </div>
    </div>

    <!-- Quick Links to Manage or Create Events -->
    <div class="dashboard-links-container">
      <div class="quick-link-card">
        <h3>Manage My Events</h3>
        <p>View, edit, and track stats for your events.</p>
        <a href="myevents.html" class="button">Go to My Events</a>
      </div>
      <div class="quick-link-card">
        <h3>Create a New Event</h3>
        <p>Start hosting right away. Itâ€™s easy!</p>
        <a href="createevent.html" class="button">Create Event</a>
      </div>
    </div>
  </div>

  <!-- Footer Section -->
  <div class="footer__container">
    <p>
      We are constantly working to improve our product. For feedback/questions,
      reach us at moves@email.com
    </p>
  </div>

  <script>
    // Basic stats for dashboard
    document.getElementById('total-revenue').innerText = "8,750";
    document.getElementById('total-events').innerText  = "7";
    document.getElementById('total-rsvps').innerText   = "1,230";
    document.getElementById('followers-count').innerText = "620";

    // Sample data for Ongoing & Upcoming (short version)
    const ongoingEvents = [
      {
        name: "Late Summer Bash",
        eventType: "Party",
        venue: "Rooftop Lounge",
        address: "456 Skyline Dr",
        startTime: "2023-08-25 18:00",
        endTime: "2023-08-25 23:00",
        totalRSVP: 75,
        genderRSVP: { malePct: 66.7, femalePct: 33.3 },
        currentlyAtEvent: 45, // absolute number
        genderAtEvent: { malePct: 60, femalePct: 40 } // percentages
      }
    ];

    const upcomingEvents = [
      {
        name: "Campus Kickoff",
        eventType: "College Greek Life Party",
        venue: "Alpha Beta House",
        address: "University District",
        startTime: "2023-09-01 20:00",
        endTime: "2023-09-02 02:00",
        totalRSVP: 40,
        genderRSVP: { malePct: 50, femalePct: 50 }
      }
    ];

    function createEventCard(event, isOngoing) {
      const card = document.createElement('div');
      card.classList.add('dynamic-event-card');

      let content = `
        <h3>${event.name} - <span class="event-type">${event.eventType}</span></h3>
        <p><strong>Venue:</strong> ${event.venue}</p>
        <p><strong>Address:</strong> ${event.address}</p>
        <p><strong>Start Time:</strong> ${event.startTime}</p>
        <p><strong>End Time:</strong> ${event.endTime}</p>
        <p><strong>Total RSVPs:</strong> ${event.totalRSVP}</p>
        <p><strong>Gender (RSVPs):</strong> M: ${event.genderRSVP.malePct}%, F: ${event.genderRSVP.femalePct}%</p>
      `;

      if (isOngoing) {
        // Add info for current events
        content += `
          <p><strong>Currently at Event:</strong> ${event.currentlyAtEvent}</p>
          <p><strong>Gender (At Event):</strong> 
             M: ${event.genderAtEvent.malePct}%, 
             F: ${event.genderAtEvent.femalePct}%
          </p>
        `;
      }

      card.innerHTML = content;
      return card;
    }

    function populateEvents() {
      const ongoingList = document.getElementById('ongoing-events-list');
      const upcomingList = document.getElementById('upcoming-events-list');

      if (ongoingEvents.length === 0) {
        ongoingList.innerHTML = `<p>No ongoing events at the moment.</p>`;
      } else {
        ongoingEvents.forEach(evt => {
          ongoingList.appendChild(createEventCard(evt, true));
        });
      }

      if (upcomingEvents.length === 0) {
        upcomingList.innerHTML = `<p>No upcoming events.
          <a href="createevent.html" class="hyperlink">Create an event</a></p>`;
      } else {
        upcomingEvents.forEach(evt => {
          upcomingList.appendChild(createEventCard(evt, false));
        });
      }
    }

    populateEvents();
  </script>
</body>
</html>
